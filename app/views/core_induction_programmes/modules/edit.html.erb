<%= govuk_breadcrumbs breadcrumbs: course_module_breadcrumbs(@current_user, @course_module) %>
<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    <h1 class="govuk-heading-l">Content change preview</h1>
    <%= form_with model:@course_module, url: year_module_path, method: :put do |f| %>
      <%= f.govuk_text_field :title, label: { text: "Module title" } %>
      <%= f.govuk_collection_select(
            :course_year,
            @course_module.course_year.core_induction_programme.course_years,
            :id,
            :title,
            label: { text: "Which year would you like to add a module to for?", class: "govuk-heading-m" },
            hint: { text: "Course Years are listed in order" }
          ) %>
      <%= f.govuk_collection_radio_buttons(
            :term,
            CourseModule.term_options,
            :id,
            :name,
            legend: {text: "Module term", class: "govuk-label"}) %>
      <%= f.govuk_text_area :content, label: { text: "Markdown string for course module content" }, rows: 10 %>
      <%= f.govuk_submit "See preview" %>
      <%= f.govuk_submit "Save changes" %>
    <% end %>
    <div class="gem-c-govspeak govuk-govspeak ">
      <%= @course_module.content_to_html.html_safe %>
    </div>
  </div>
</div>
